webpackJsonp([1,13],{192:function(t,i,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(i,"__esModule",{value:!0});var o=n(193),l=a(o),s=n(232),r=a(s),h=n(224),u=a(h),d=n(293),c=a(d),p=n(223),f=a(p),m=n(294),g=a(m),v=n(195),I=a(v),C=n(295),y=a(C);i.default={input:l.default,dropDown:r.default,radio:u.default,checkbox:u.default,picRadio:c.default,picCheckbox:c.default,rate:f.default,mobile:g.default,email:I.default,name:y.default},t.exports=i["default"]},293:function(t,i,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,i){var n=[],a=!0,o=!1,l=void 0;try{for(var s,r=t[Symbol.iterator]();!(a=(s=r.next()).done)&&(n.push(s.value),!i||n.length!==i);a=!0);}catch(t){o=!0,l=t}finally{try{!a&&r["return"]&&r["return"]()}finally{if(o)throw l}}return n}return function(i,n){if(Array.isArray(i))return i;if(Symbol.iterator in Object(i))return t(i,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},s=n(20),r=a(s),h=n(21),u=a(h),d=n(6),c=a(d),p=n(19),f=a(p),m=n(118),g=a(m),v=n(23),I=a(v),C=n(17),y=n(37),S=n(95),E=n(27),b=a(E),_=n(280),N=a(_),T=n(39),A=n(55),L=n(7),O=n(8),M=(n(224),r.default.createClass({displayName:"PicOption",mixins:[I.default],getInitialState:function(){this.operator=null,this.optNum=null,this.optImageContainer=null,this.optChoiceContainer=null,this.imageSize=null,this.getComponentSizeDetail=(0,O.memo)(this._getComponentSizeDetail);var t={active:!1,optionNoInfo:null};return t=l({},t,this.getOptionNoInfo(t))},componentDidUpdate:function(t){this.props.hideNoQuota===t.hideNoQuota&&this.props.onRenderOptionNum===t.onRenderOptionNum&&this.props.limitInfo===t.limitInfo&&this.props.linkQuota===t.linkQuota&&this.props.linkLimit===t.linkLimit&&this.props.updateCount===t.updateCount||this.setState(this.getOptionNoInfo(this.state))},getOptionNoInfo:function(t){var i=this.props,n=i.hideNoQuota,a=i.onRenderOptionNum,o=i.limitInfo,l=i.isLinked,s=i.linkQuota,r=i.linkLimit,h=t.optionNoInfo,u=1/0;if(o||l&&null!=s){var d=(0,O.quotaCalculate)(o,s);u=d.remaining}if(n&&u<=0&&!l||l&&(0===r||u<=0)){if(h)return this.optNum=null,{optionNoInfo:null}}else{var c=a();if(!h||c.join("-")!==h.join("-"))return this.optNum=c[0],{optionNoInfo:c}}return{optionNoInfo:h}},_getComponentSizeDetail:function(t,i,n,a,o,s){var r={width:o,height:s},h=null,u=l({},r);if(i&&n){var d=this.props.pictureLayout;3===+d||4===+d?(u.width=a/.45,h={width:a,height:i<a?n:n/i*a},u.height=Math.max(h.height,s)):(h={width:a,height:i<a?n:n/i*a},u.height+=h.height)}return u.width+=(0,C.getStaticData)("CP_COMMODITY_ITEM_PADDING_LR"),u.height+=(0,C.getStaticData)("CP_COMMODITY_ITEM_PADDING_TB"),{num:t,choiceSize:r,size:u,imageSize:h}},getComponentSize:function(){if(this.optNum&&this.operator){var t=u.default.findDOMNode(this.optChoiceContainer),i=null;this.optImageContainer&&(i=u.default.findDOMNode(this.optImageContainer));var n=t.style.minHeight;t.style.minHeight=null;var a=t.getBoundingClientRect(),o=i?i.getBoundingClientRect():null;t.style.minHeight=n,this.imageContainerWidth=o?o.width:null,this.imageContainerHeight=o?o.height:null;var l=this.getComponentSizeDetail(this.optNum,this.imageSize?this.imageSize.width:null,this.imageSize?this.imageSize.height:null,o?o.width:null,a.width,a.height);return l&&l.size&&l.size.imageHeight&&(this.imageContainerHeight=l.size.imageHeight),l}return null},getImageFieldSize:function(){var t=null;if(this.optImageContainer&&(t=u.default.findDOMNode(this.optImageContainer)),t){var i=t?t.getBoundingClientRect():null;this.imageContainerWidth=i?i.width:null,this.imageContainerHeight=1/0}},handleImageLoad:function(t){var i=this.props.onImageLoad;this.imageSize=t,i&&i()},handleClick:function(){var t=this.props,i=t.onSelect,n=t.data;i&&i(n.sId),this.operator.blur()},handleARIA_select:function(e){if(this.operator&&this.operator.isFocus()&&(13===e.keyCode||32===e.keyCode)){e.preventDefault();var t=this.props,i=t.onSelect,n=t.data;i&&i(n.sId)}},handleStopPop:function(e){e.stopPropagation()},handlePreviewImage:function(e){e.stopPropagation();var t=this.props,i=t.data,n=t.index,a=t.onPreview,l=(0,O.getAllOptionImageUrl)(i),s=o(l,2),r=s[0],h=s[1];r&&a&&a(n,this.optImageContainer,{image:r,imageFull:h})},refOptImage:function(t){this.optImageContainer=t},refOptChoice:function(t){this.optChoiceContainer=t},refOperator:function(t){this.operator=t},renderLimit:function(t){var i=this.props,n=i.showLimit,a=i.tipsStyle,o=i.isLinked,l=i.displayLinkedQuota;if(null!=t&&isFinite(t)){var s="";if((n||o&&l)&&t>0?s=(0,C.getLang)().cQuotaRemainingFunc({remaining:t}):t<=0&&(s=(0,C.getLang)().cQuotaRemainingFull),s)return r.default.createElement("span",{className:"fbc_optionTips",style:a},s)}return null},renderImageBlock:function(){var t=this.props,i=t.data,n=(t.onImageLoad,t.sizeList),a=t.layout,o=null;n&&(o=n[Math.ceil(this.optNum/a)-1]);var l=(0,O.getOptionImageUrl)(i,a);if(l){var s=!1;return this.imageSize&&(s=this.imageSize.width>1.2*this.imageContainerWidth||this.imageSize.height>1.2*this.imageContainerHeight),r.default.createElement("div",{className:"fbc_picOptionImage",ref:this.refOptImage,style:{minHeight:o?o.imageHeight:null}},r.default.createElement(b.default,{className:"fbc_picOptionImg",src:l,onLoad:this.handleImageLoad,cacheSize:!0}),s?r.default.createElement(y.BaseBtn,{className:"fbc_imgPreview iconfont",onMouseDown:this.handleStopPop,onTouchStart:this.handleStopPop,onClick:this.handlePreviewImage},String.fromCharCode(59010)):null)}return o&&o.imageHeight?r.default.createElement("div",{className:"fbc_picOptionImagePlaceholder",style:{minHeight:o?o.imageHeight:null}},r.default.createElement("div",{className:"fbc_picopContent"},i.value)):null},renderInputBlock:function(t){var i=this.props,n=i.data,a=i.type,o=i.optStyle,l=i.sizeList,s=i.layout,h=i.active,u=i.onRenderRichContent,d="radio"===a?S.BaseRadio:S.BaseCheckbox,c=t.no,p=t.disabled,m=t.remaining,g=null;return l&&(g=l[Math.ceil(this.optNum/s)-1]),r.default.createElement("span",{className:"fbc_picOptionInput",ref:this.refOptChoice,style:{minHeight:g?g.choiceHeight:null}},r.default.createElement(d,{className:(0,f.default)("fbc_optionButton"),disabled:p,active:h,style:o}),r.default.createElement("span",{className:"fbc_optionLabel"},c,u(n.value,n.style),this.renderLimit(m)))},render:function(){var t=this.props,i=t.className,n=t.style,a=t.active,l=t.limitInfo,s=t.chooseMax,h=t.hideNoQuota,u=t.isLinked,d=t.linkQuota,c=t.linkLimit,p=t.sizeList,m=t.layout,g=t.pictureLayout,v=t.inValid,I=this.state.optionNoInfo,C=1/0;if(l||u&&null!=d){var S=(0,O.quotaCalculate)(l,d);C=S.remaining}if(h&&C<=0&&!u)return null;if(u&&(0===c||C<=0))return null;var E=C<=0||!a&&s,b=void 0,_=void 0;if(I){var N=o(I,2);b=N[0],_=N[1]}var T=n;if(p){var A=p[Math.ceil(b/m)-1],L={minHeight:A?A.optHeight:null};L.minHeight&&(T=(0,O.styleInject)(T,L))}var M=g&&[2,4].indexOf(+g)>-1,B=this.renderInputBlock({no:_,disabled:E,remaining:C});return r.default.createElement(y.BaseBtn,{component:"li",className:(0,f.default)("fbc_picOptionsLi",i,{"disabled":E,"error":v},"fbc_option_content_layout_"+g),style:T,disabled:E,onClick:this.handleClick,onKeyDown:this.handleARIA_select,tabIndex:0,ref:this.refOperator},M?B:null,this.renderImageBlock(),M?null:B,r.default.createElement("div",{className:"clearB"}))}})),B=r.default.createClass({displayName:"PicChoice",mixins:[g.default,I.default],contextTypes:{updateEmbedContainer:r.default.PropTypes.func},getInitialState:function(){return this.theme=(0,C.getThemeHelper)(),this.store=(0,C.getStore)(),this.options=[],this.updateOptionSize=c.default.debounce(this._updateOptionSize,200,{tailing:!0,leading:!0}),this.handleResize=c.default.debounce(this._handleUpdateOptionSize,200),this.handleImageLoaded=c.default.debounce(this._handleUpdateOptionSize,400),{updateCount:0}},componentDidMount:function(){this.unbindEvent=(0,L.onResize)(this.handleResize),this.unbind=this.store.addChangeListener(this.handleStateChange),this.updateOptionSize()},componentDidUpdate:function(t){this.props.linkedApt&&(t.linkQuota===this.props.linkQuota&&t.linkLimit===this.props.linkLimit||this.updateOptionSize())},componentWillUnmount:function(){this.unbindEvent&&this.unbindEvent(),this.unbind&&this.unbind(),this.updateOptionSize=null,this.options=[],this.unmount()},_updateOptionSize:function(){var t=this,i=this.getOptionsLayoutType(),n=null;i>1?(n=[],c.default.forEach(this.options,function(t){if(t){var a=t.getComponentSize();if(!a)return;var o=Math.ceil(a.num/i)-1,l=Math.ceil(a.imageSize?a.imageSize.height:0),s=Math.ceil(a.size.height),r=Math.ceil(a.choiceSize?a.choiceSize.height:0);null==n[o]?n[o]={imageHeight:l,optHeight:s,choiceHeight:r}:n[o]={imageHeight:Math.max(n[o].imageHeight,l),optHeight:Math.max(n[o].optHeight,s),choiceHeight:Math.max(n[o].choiceHeight,r)}}})):c.default.forEach(this.options,function(t){t&&t.getImageFieldSize()}),this.setState({sizeList:n},function(){t.context.updateEmbedContainer&&t.context.updateEmbedContainer()})},_handleUpdateOptionSize:function(){var t=this;this.setState({updateCount:(this.state.updateCount+1)%10},function(){t.updateOptionSize()})},handleStateChange:function(t){t.type===T._PAGING_CHANGE_END&&this._handleUpdateOptionSize()},handlePreviewImage:function(t,i,n){var a=i.querySelector("img");this.previewer&&this.previewer.preview(a||i,n.image,n.imageFull),this.setState({previewIdx:t})},handlePreviewerUnmount:function(){this.setState({previewIdx:null})},handleSelectOption:function(t){var i=this.props.data;this.store.dispatch((0,T.SELECT_OPT)({id:i.id,value:t}))},handleRenderOptionNum:function(){var t=this.props.data,i=++this.optionNum;return t.isAutoNo?[i,(0,A.OPTION_NUM)(i,t.autoNo)]:[i,null]},hasValue:function(t){var i=this.props.fill,n=!1;return c.default.forEach(i||[],function(i){if(t===i)return n=!0,!1}),n},getInputType:function(){var t=this.props.data;return"picRadio"===t.type?"radio":"checkbox"},getOptionsLayoutType:function(){var t=this.props,i=t.data,n=t.inSqueeze,a=i.optionsLayout||3;return(this.isMobile()||n)&&(a=[3,4].indexOf(+i.picLayout)>-1?1:Math.min(2,a)),a},refPreview:function(t){this.previewer=t},refPicOption:function(t){this.options.push(t)},renderOptions:function(){var t=this;this.optionNum=0;var i=this.props,n=i.data,a=i.fill,o=i.valid,s=i.linkedApt,h=i.linkQuota,u=i.linkLimit,d=i.displayLinkedQuota,p=this.state,m=p.previewIdx,g=p.sizeList,v=p.updateCount,I=this.getOptionsLayoutType(),C=this.getInputType(),y=[],S=o&&o.length>0,E=1===n.isLimitChooseNum&&"checkbox"===C,b=n.chooseNumTo,_=E&&null!=b&&""!==b,N=this.optionBlockStyle=this.optionBlockStyle||{default:this.theme.getPicOptionStyle(this.theme.NORMAL),hover:this.theme.getPicOptionStyle(this.theme.HOVER),active:this.theme.getPicOptionStyle(this.theme.ACTIVE)},T={type:C,__fill:a||null,__linkedQuota:h||null,inValid:S,pictureLayout:+(n.picLayout||1),showLimit:n.isShowOptionLimit,hideNoQuota:n.isHideFullOption,chooseMax:_&&a&&a.length>=+b,sizeList:g,layout:I,onPreview:this.handlePreviewImage,onSelect:this.handleSelectOption,onRenderOptionNum:this.handleRenderOptionNum,onRenderRichContent:this.renderRichContent,onImageLoad:this.handleImageLoaded,style:s?null:N,optStyle:s?null:this.theme.getPicOptionIconStyle(),updateCount:v},A=null;n.isLimitOptions&&n.optionsQuotaInfo&&(A=n.optionsQuotaInfo);var L=!(!s||!h);return c.default.forEach(n.options,function(i,n){var a=t.hasValue(i.sId),o=A&&A[i.sId]?A[i.sId]:null,c=null,p=null;L&&(c=h[i.sId]),s&&u&&(p=u[i.sId]),y.push(r.default.createElement(M,l({data:i,key:"opt-"+i.sId,type:C,index:n,active:a,ref:t.refPicOption,className:(0,f.default)({"in-preview":m===n}),limitInfo:o,isLinked:L,linkQuota:c,linkLimit:p,displayLinkedQuota:d},T)))}),y},renderTips:function(t){var i=this.props,n=i.data,a=i.valid,o=this.getInputType();if(1===n.isLimitChooseNum&&"checkbox"===o){var l=(0,C.getLang)(),s=a&&this.hasError("tips"),h=n.chooseNumFrom,u=n.chooseNumTo,d=null!=h&&""!==h,c=null!=u&&""!==u,p="";if(d&&c?p=+h===+u?l.cOptionsLimitEqualFunc({num:+h}):l.cOptionsLimitRangeFunc({numForm:+h,numTo:+u}):c?p=l.cOptionsLessThanNumFunc({numTo:+u}):d&&(p=l.cOptionsMoreThanNumFunc({numForm:+h})),p)return r.default.createElement("p",{className:(0,f.default)("fbc_tips"),key:"tips",id:"tip-"+n.id,style:t,"aria-label":p},r.default.createElement("span",{className:(0,f.default)("fbc_tip_input",{error:s})},p))}return null},render:function(){var t=this.props,i=t.data,n=t.style,a=t.linkedApt,o=this.getOptionsLayoutType();return r.default.createElement("div",{className:(0,f.default)("fb_component",i.type),id:i.id,style:n},r.default.createElement("div",{className:"fb_componentText"},this.renderTitle(a?null:this.theme.getComponentTitleStyle()),this.renderSubtitle(a?null:this.theme.getComponentDescStyle()),this.renderTips(this.theme.getComponentTipsStyle()),this.renderError(this.theme.getComponentErrorStyle())),r.default.createElement("div",{className:"fb_componentBody"},r.default.createElement("div",{className:(0,f.default)("fbc_content","fbc_options_layout","fbc_options_layout_"+o,{})},r.default.createElement("ul",{role:this.getInputType()+"group",tabIndex:0,"aria-labelledby":this.ariaLabelTriggerOrder()},this.renderOptions()),r.default.createElement("div",{className:"clearB"})),r.default.createElement("span",{className:"aria-placeholder",id:"p-"+i.id,"aria-label":(i.placeholder||"")+"."})),r.default.createElement(N.default,{ref:this.refPreview,onUnmount:this.handlePreviewerUnmount}))}});i.default=B,t.exports=i["default"]},294:function(t,i,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(i,"__esModule",{value:!0});var o=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},l=n(20),s=a(l),r=n(21),h=a(r),u=n(6),d=a(u),c=n(19),p=a(c),f=n(118),m=a(f),g=n(23),v=a(g),I=n(100),C=a(I),y=n(17),S=n(8),E=n(57),b=n(37),_=n(39),N=n(261),T=a(N),A=n(55),L=3e4,O=s.default.createClass({displayName:"MobileVerification",mixins:[m.default,v.default],getInitialState:function(){return this.theme=(0,y.getThemeHelper)(),this.store=(0,y.getStore)(),this.measureSize=d.default.debounce(this._measureSize,120),this.measureAuthTitleSize=d.default.debounce(this._measureAuthTitleSize,200),this.reCheckAuthCode=d.default.debounce(this.handleAuthCodeBlur,120),{authButtonWidth:null,authButtonFontSize:null,requireAuthFreeze:!1,authCodeTitleWidth:120}},componentWillReceiveProps:function(t){this.props.contentWidth!==t.contentWidth&&(this.measureSize(),this.measureAuthTitleSize())},componentDidMount:function(){this.measureSize(),this.measureAuthTitleSize(),this.unsubscribe=this.store.addChangeListener(this.handleStateChange)},componentWillUnmount:function(){this.unsubscribe&&this.unsubscribe()},handleStateChange:function(t){var i=this;if(t.type===_._REQUIRE_AUTH_MSG_SUCCEED&&t.id===this.props.data.id)this.requiring=!1,this.setState({requireAuthFreeze:!0,requirePending:!1},function(){i.measureSize(),i.measureAuthTitleSize()});else if(t.type===_._REQUIRE_AUTH_MSG_FAILED&&t.id===this.props.data.id)this.requiring=!1,this.setState({requirePending:!1});else if(t.type===_._REQUIRE_AUTH_MSG){var n=this.store.getState().validated;n&&n[t.id]&&!d.default.isEmpty(n[t.id])&&(this.requiring=!1,this.setState({requirePending:!1}))}},_measureSize:function(){var t=this;this.fontInfo||(this.fontInfo=(0,S.getFontInfo)(h.default.findDOMNode(this.authBtn)));var i=this.state.requireAuthFreeze?(0,y.getLang)().cMobileHasSendCode({timer:"00"}):(0,y.getLang)().cMobileGetCode,n=this.props.contentWidth,a=function(n){return(0,S.getTextWidth)(i,n+"px/"+t.fontInfo.lineHeight+" "+t.fontInfo.font)+2*(n-4)},o=this.fontInfo.fontSize,l=null;for(l=a(o);l>.3*n&&o>12;)o--,l=a(o);this.setState({authButtonWidth:l,authButtonFontSize:o})},_measureAuthTitleSize:function(){if(this.authCodeTitle){var t=h.default.findDOMNode(this.authCodeTitle),i=t.getBoundingClientRect();i.width!==this.state.authCodeTitleWidth&&this.setState({authCodeTitleWidth:i.width})}},handleRequireAuthMsg:function(e){var t=this.props.onRequireAuthMessage;this.requiring||(this.requiring=!0,this.setState({requirePending:!0},function(){t()}))},handleFinishCountdown:function(){var t=this;this.setState({requireAuthFreeze:!1},function(){t.measureSize()})},handleAuthCodeChange:function(e){var t=this.props,i=t.inValid,n=t.onAuthCodeChange,a=t.fill;n&&n(e),a&&i&&this.hasError("mobileAuthCodeError")&&this.reCheckAuthCode(e)},handleAuthCodeBlur:function(){var t=this.props.onAuthCodeCheck;t&&t()},refAuthBtn:function(t){this.authBtn=t},refAuthCodeTitle:function(t){this.authCodeTitle=t},renderAuthCodeTitle:function(){var t=(0,y.getLang)();return s.default.createElement("span",{className:"fbc_aciTitle",ref:this.refAuthCodeTitle},t.cMobileCodeInput,s.default.createElement("span",{className:"fbc_required"},"*"))},renderAuthCode:function(){var t=this.props,i=t.inValid,n=t.fill,a=t.deviceInfo,l=(t.onAuthCodeChange,this.state.authCodeTitleWidth),r=i&&(this.hasError("mobileAuthCodeError")||this.hasError("mobileAuthCodeRequired"));return n&&n.mobile&&n.verificationToken&&n.verificationMobileToken?s.default.createElement(C.default,{className:(0,p.default)("fbc_authCodeInput",{error:r}),deviceInfo:a,tabIndex:0,style:o({},this.theme.getInputBoxStyle(),{paddingLeft:l}),inputStyle:this.theme.getInputBoxExtraStyle(),onRenderPrefix:this.renderAuthCodeTitle,value:n.verificationCode||"",autoComplete:"one-time-code",onChange:this.handleAuthCodeChange,onBlur:this.handleAuthCodeBlur},n&&n.checked?s.default.createElement(b.BaseBtn,{component:"i",inValid:r,className:"iconfont fbc_aciTag",style:{default:this.theme.getInputStateIconStyle(this.theme.ACTIVE),error:this.theme.getInputStateIconStyle(this.theme.ERROR)}},String.fromCharCode(r?58928:59173)):null):null},render:function(){var t=this.props,i=t.data,n=t.inValid,a=t.deviceInfo,o=t.fieldExtInfo,l=t.fill,r=t.onChange,h=t.onBlur,u=this.state,d=u.authButtonFontSize,c=u.authButtonWidth,f=u.requireAuthFreeze,m=u.requirePending,g=n&&!(this.hasError("mobileAuthCodeError")||this.hasError("mobileAuthCodeRequired")),v=n&&this.hasError("mobileAuthCodeRequired"),I=(0,y.getLang)(),S=I.cMobileGetCode,E=null;l&&l.verificationToken&&!l.verificationMobileToken?(S=I.cMobileCodeSucceed,E=s.default.createElement("p",{className:"fbc_noQuotaTips"},I.cMobileNoQuotaTips)):f&&(S=s.default.createElement(b.BaseCutDown,{duration:L,key:"authCountdown",onRender:function(t){return I.cMobileHasSendCode({timer:Math.floor(t.remain/1e3)})},onFinishCutDown:this.handleFinishCountdown}));var _={baseFontSize:d,baseWidth:c+(a.isMobile?0:2)};return s.default.createElement("div",{className:"fbc_sendAuthWrapper"},s.default.createElement("div",{className:"fbc_sendAuth",style:{width:c?"calc(100% - "+Math.ceil(c+(0,y.getStaticData)("CP_ITEM_GAP"))+"px)":null}},s.default.createElement(C.default,{className:(0,p.default)("fbc_input","fbc_sendAuth_content",{error:g}),deviceInfo:a,tabIndex:0,inValid:g,placeholder:i.placeholder,icon:o?o.icon:null,disabled:f,"aria-invalid":g,style:this.theme.getInputBoxStyle(),inputStyle:this.theme.getInputBoxExtraStyle(),iconStyle:{default:this.theme.getInputBoxIconStyle(this.theme.NORMAL),active:this.theme.getInputBoxIconStyle(this.theme.ACTIVE),focus:this.theme.getInputBoxIconStyle(this.theme.ACTIVE),error:this.theme.getInputBoxIconStyle(this.theme.ERROR)},value:l?l.mobile:"",onChange:r,onBlur:h}),s.default.createElement(b.BaseBtn,{className:(0,p.default)("fbc_sendMsgAuth",{error:v}),ref:this.refAuthBtn,inValid:v,disabled:!l||!l.mobile||n&&(this.hasError("contentRegex")||this.hasError("required"))||f||(0,y.getMode)()!==A.MODE_FILLING||E,loading:m,style:{default:this.theme.getInputBoxExtButtonStyle(this.theme.NORMAL,_),active:this.theme.getInputBoxExtButtonStyle(this.theme.ACTIVE,_),focus:this.theme.getInputBoxExtButtonStyle(this.theme.ACTIVE,_),error:this.theme.getInputBoxExtButtonStyle(this.theme.ERROR,_),disabled:this.theme.getInputBoxExtButtonStyle(this.theme.DISABLED,_)},onClick:this.handleRequireAuthMsg},S)),E,this.renderAuthCode())}}),M=s.default.createClass({displayName:"Mobile",mixins:[m.default,v.default],getInitialState:function(){return this.theme=(0,y.getThemeHelper)(),this.store=(0,y.getStore)(),{}},componentDidMount:function(){this.unsubscribe=this.store.addChangeListener(this.handleStateChange)},componentWillUnmount:function(){window.clearTimeout(this.rafecTimer),this.unsubscribe&&this.unsubscribe()},handleStateChange:function(t){var i=this,n=this.props.data;t.id===n.id&&t.type===_._REQUIRE_AUTH_MSG_FAILED&&(this.rafecTimer=window.setTimeout(function(){i.store.dispatch((0,_.CLEAN_REQUIRE_AUTH_FAIL_ERR)({id:n.id}))},1e4))},handleChange:function(e,t){var i=this.props.data;this.store.dispatch((0,_.SET_MULTI_INPUT_VALUE)({id:i.id,idx:t,value:e.target.value}))},handleBlur:function(e,t){var i=this.props.data;this.store.dispatch((0,_.BLUR_MULTI_INPUT)({id:i.id,idx:t,value:e.target.value}))},handleIncreaseItem:function(e,t){var i=this.props.data;this.store.dispatch((0,_.ADD_MULTI_INPUT_ITEM)({id:i.id,idx:t}))},handleRemoveItem:function(e,t){var i=this.props.data;this.store.dispatch((0,_.REMOVE_MULTI_INPUT_ITEM)({id:i.id,idx:t}))},handleAuthMobileChange:function(e){var t=this.props.data;this.store.dispatch((0,_.SET_AUTH_MOBILE_VALUE)({id:t.id,value:e.target.value}))},handleAuthMobileBlur:function(e){var t=this.props.data;this.store.dispatch((0,_.BLUR_AUTH_MOBILE)({id:t.id,value:e.target.value}))},handleRequireAuthMsg:function(){var t=this.props.data;this.store.dispatch((0,_.REQUIRE_AUTH_MESSAGE)({id:t.id}))},handleAuthCodeChange:function(e){var t=this.props.data;this.store.dispatch((0,_.SET_AUTH_CODE_VALUE)({id:t.id,value:e.target.value}))},handleAuthCodeCheck:function(){var t=this.props.data;return this.store.dispatch((0,_.CHECK_AUTH_CODE)({id:t.id}))},render:function(){var t=this.props,i=t.data,n=t.style,a=t.fill,l=t.valid,r=t.layout,h=(0,y.getDeviceInfo)(),u=1===i.isAcceptMulti,d=1===i.isSendMsgAuth,c=E.FIELD_INFO_MAPPING[i.type],f=this.getComponentLayoutStyleInfo(),m=l&&l.length>0,g=i.cpLayout&&2===+i.cpLayout&&r.width<1,v={deviceInfo:h,data:i,fill:a,inValid:m,valid:l,fieldExtInfo:c,contentWidth:this.getContentWidth()};return s.default.createElement("div",{className:(0,p.default)("fb_component",i.type),id:i.id,style:n},s.default.createElement("div",{className:"fb_componentText",style:f?f.titleStyle:null},this.renderTitle(this.theme.getComponentTitleStyle()),this.renderSubtitle(this.theme.getComponentDescStyle()),this.renderError(this.theme.getComponentErrorStyle())),s.default.createElement("div",{className:"fb_componentBody",style:f?f.bodyStyle:null},s.default.createElement("div",{className:(0,p.default)("fbc_content","fbc_widthCp"),style:{width:(this.isMobile()||g?100:10*(i.cpWidth||8))+"%",marginTop:f?0:null}},d?s.default.createElement(O,o({key:"inputAuth"},v,{onChange:this.handleAuthMobileChange,onBlur:this.handleAuthMobileBlur,onRequireAuthMessage:this.handleRequireAuthMsg,onAuthCodeChange:this.handleAuthCodeChange,onAuthCodeCheck:this.handleAuthCodeCheck})):s.default.createElement(T.default,o({key:"inputGroup"},v,{onChange:this.handleChange,onBlur:this.handleBlur,limit:!u&&1,onIncreaseItem:this.handleIncreaseItem,onRemoveItem:this.handleRemoveItem}))),s.default.createElement("span",{className:"aria-placeholder",id:"p-"+i.id,"aria-label":(i.placeholder||"")+"."})))}});i.default=M,t.exports=i["default"]},295:function(t,i,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function o(t,i,n){return i in t?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,t}Object.defineProperty(i,"__esModule",{value:!0});var l=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},s=n(20),r=a(s),h=n(6),u=a(h),d=n(19),c=a(d),p=n(118),f=a(p),m=n(23),g=a(m),v=n(100),I=a(v),C=n(17),y=n(57),S=n(39),E=(0,y.FORM_COMPONENTS_NAME_DETAILS)({np:(0,C.getLang)().cnamePrefix,nf:(0,C.getLang)().cnameFirst,nm:(0,C.getLang)().cnameMiddle,nl:(0,C.getLang)().cnameLast,ns:(0,C.getLang)().cnameSuffix,nn:(0,C.getLang)().cnameNick},(0,C.getCurrentLang)()),b=[2,4],_=r.default.createClass({displayName:"StructureNameItem",mixins:[g.default],getInitialState:function(){return{isFocus:!1}},handleFocus:function(){this.setState({isFocus:!0})},handleBlur:function(e){this.setState({isFocus:!1}),this.props.onBlur&&this.props.onBlur(e)},render:function(){var t=this.props,i=t.index,n=t.groupLength,a=t.inValid,o=t.name,s=t.deviceInfo,h=t.title,u=t.style,d=t.inputStyle,p=t.hintStyle,f=t.value,m=t.onChange,g=this.state.isFocus,v=Math.floor(i/n);return r.default.createElement(I.default,{className:(0,c.default)("fbc_input","nameItem","ni_"+o,{error:a,"is_lineStart":i%n===0}),inValid:a,placeholder:h,name:o,tabIndex:0,deviceInfo:s,style:l({},u,{marginTop:v>0?6:null,width:"calc( (100% - "+6*(n-1)+"px)/"+n+" )"}),inputStyle:d,value:f,onChange:m,onFocus:this.handleFocus,onBlur:this.handleBlur},r.default.createElement("span",{className:(0,c.default)("fbc_nameHint",{"is_show":g&&f}),style:p},h))}}),N=r.default.createClass({displayName:"StructureName",mixins:[g.default],getDefaultProps:function(){return{items:[2,4]}},getInitialState:function(){return this.theme=(0,C.getThemeHelper)(),{}},renderItems:function(){for(var t=this,i=this.props,n=i.deviceInfo,a=i.contentWidth,o=i.fill,l=i.inValid,s=i.items,h=i.onChange,d=i.onBlur,c=s.length;a/c<70&&c>1;)c=Math.max(1,Math.ceil(c/2));var p=0,f=[];return u.default.forEach(E,function(i){var a=i.id,u=i.name,m=i.title;s.indexOf(a)!==-1&&(f.push(r.default.createElement(_,{index:p,groupLength:c,inValid:l,deviceInfo:n,name:u,title:m,style:t.theme.getInputBoxStyle(),inputStyle:t.theme.getInputBoxExtraStyle(),hintStyle:t.theme.getInputPopHintStyle(),value:o?o[u]||"":"",onChange:h,onBlur:d})),p++)}),f},render:function(){return r.default.createElement("div",{className:"fbc_structNameWrapper"},this.renderItems(),r.default.createElement("div",{className:"clearB"}))}}),T=r.default.createClass({displayName:"Name",mixins:[f.default,g.default],getInitialState:function(){return this.theme=(0,C.getThemeHelper)(),this.store=(0,C.getStore)(),{}},handleChange:function(e){var t=this.props.data;this.store.dispatch((0,S.SET_VALUE)({id:t.id,value:o({},e.target.name,e.target.value)}))},handleBlur:function(e){var t=this.props.data;this.store.dispatch((0,S.BLUR_INPUT)({id:t.id,value:o({},e.target.name,e.target.value)}))},render:function(){var t=this.props,i=t.data,n=t.style,a=t.fill,o=t.valid,l=t.layout,s=(0,C.getDeviceInfo)(),h=y.FIELD_INFO_MAPPING[i.type],d=this.getComponentLayoutStyleInfo(),p=o&&o.length>0,f=i.detailsItem||b,m=i.cpLayout&&2===+i.cpLayout&&l.width<1;return r.default.createElement("div",{className:(0,c.default)("fb_component",i.type),id:i.id,style:n},r.default.createElement("div",{className:"fb_componentText",style:d?d.titleStyle:null},this.renderTitle(this.theme.getComponentTitleStyle()),this.renderSubtitle(this.theme.getComponentDescStyle()),this.renderError(this.theme.getComponentErrorStyle())),r.default.createElement("div",{className:"fb_componentBody",style:d?d.bodyStyle:null},r.default.createElement("div",{className:(0,c.default)("fbc_content","fbc_widthCp"),style:{width:(this.isMobile()||m?100:10*(i.cpWidth||8))+"%",marginTop:d?0:null}},i.isOpenDetails&&!u.default.isEmpty(f)?r.default.createElement(N,{inValid:p,deviceInfo:s,contentWidth:this.getContentWidth(),items:f,fill:a,onChange:this.handleChange,onBlur:this.handleBlur}):r.default.createElement(I.default,{className:(0,c.default)("fbc_input",{error:p}),inValid:p,tabIndex:0,deviceInfo:s,style:this.theme.getInputBoxStyle(this.theme.NORMAL,!!h),inputStyle:this.theme.getInputBoxExtraStyle(),icon:h?h.icon:null,iconStyle:{default:this.theme.getInputBoxIconStyle(this.theme.NORMAL),active:this.theme.getInputBoxIconStyle(this.theme.ACTIVE),focus:this.theme.getInputBoxIconStyle(this.theme.ACTIVE),error:this.theme.getInputBoxIconStyle(this.theme.ERROR)},name:"n","aria-labelledby":this.ariaLabelTriggerOrder(),"aria-required":i.isRequired,"aria-invalid":p,onChange:this.handleChange,onBlur:this.handleBlur,value:a?a.n||"":"",placeholder:i.placeholder})),r.default.createElement("span",{className:"aria-placeholder",id:"p-"+i.id,"aria-label":(i.placeholder||"")+"."})))}});i.default=T,t.exports=i["default"]}});